{"version":3,"sources":["enums.es6","addonManager.es6","addon_api.es6","eventManager.es6","raid.es6","main.es6","boot.es6","menu.es6","play.es6","enum.es6"],"names":[],"mappings":"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","file":"public\\js\\main.js","sourcesContent":["﻿import Enum from \"./util/enum\";\r\n \r\n\r\n\r\nconst stat_e = Enum(\"STRENGHT\", \"AGILITY\", \"STAMINA\", \"INTELLECT\", \"SPIRIT\");\r\nconst class_e = Enum(\"WARRIOR\", \"PALADIN\", \"HUNTER\", \"ROGUE\", \"PRIEST\", \"DEATHKNIGHT\", \"SHAMAN\", \"MAGE\", \"WARLOCK\", \"MONK\", \"DRUID\");\r\nconst race_e = Enum(\"RACE_NONE\", \"RACE_BEAST\", \"RACE_DRAGONKIN\", \"RACE_GIANT\", \"RACE_HUMANOID\", \"RACE_DEMON\", \"RACE_ELEMENTAL\", \"RACE_NIGHT_ELF\", \"RACE_HUMAN\", \"RACE_GNOME\", \"RACE_DWARF\", \"RACE_DRAENEI\", \"RACE_WORGEN\", \"RACE_ORC\", \"RACE_TROLL\", \"RACE_UNDEAD\", \"RACE_BLOOD_ELF\", \"RACE_TAUREN\", \"RACE_GOBLIN\", \"RACE_PANDAREN\", \"RACE_PANDAREN_ALLIANCE\", \"RACE_PANDAREN_HORDE\", \"RACE_MAX\", \"RACE_UNKNOWN\" );\r\n\r\nconst combat_rating_e = Enum(\r\n    \"RATING_MOD_DODGE\",\r\n    \"RATING_MOD_PARRY\",\r\n    \"RATING_MOD_HIT_MELEE\",\r\n    \"RATING_MOD_HIT_RANGED\",\r\n    \"RATING_MOD_HIT_SPELL\",\r\n    \"RATING_MOD_CRIT_MELEE\",\r\n    \"RATING_MOD_CRIT_RANGED\",\r\n    \"RATING_MOD_CRIT_SPELL\",\r\n    \"RATING_MOD_MULTISTRIKE\",\r\n    \"RATING_MOD_READINESS\",\r\n    \"RATING_MOD_SPEED\",\r\n    \"RATING_MOD_RESILIENCE\",\r\n    \"RATING_MOD_LEECH\",\r\n    \"RATING_MOD_HASTE_MELEE\",\r\n    \"RATING_MOD_HASTE_RANGED\",\r\n    \"RATING_MOD_HASTE_SPELL\",\r\n    \"RATING_MOD_EXPERTISE\",\r\n    \"RATING_MOD_MASTERY\",\r\n    \"RATING_MOD_PVP_POWER\",\r\n    \"RATING_MOD_VERS_DAMAGE\",\r\n    \"RATING_MOD_VERS_HEAL\",\r\n    \"RATING_MOD_VERS_MITIG\"\r\n);\r\n\r\nconst player_role = Enum(\"TANK\", \"HEALER\", \"DAMAGE\");\r\n\r\n\r\nconst PLAYER_LEVEL_MIN = 1;\r\nconst PLAYER_LEVEL_MAX = 100;\r\nconst PLAYER_RACE_MIN = 7;\r\nconst PLAYER_RACE_MAX = 21;\r\nconst PLAYER_CLASS_MIN = 0;\r\nconst PLAYER_CLASS_MAX = 10;\r\n\r\nconst RAIDSIZE_TWENTYFIVEMAN = 25;\r\nconst RAIDSIZE_TENMAN = 10;\r\nconst RAIDSIZE_GROUP = 5;\r\n\r\nexport {stat_e,class_e,race_e,combat_rating_e,PLAYER_LEVEL_MAX, PLAYER_LEVEL_MIN, PLAYER_RACE_MAX, PLAYER_RACE_MIN, PLAYER_CLASS_MAX, PLAYER_CLASS_MIN,RAIDSIZE_GROUP, RAIDSIZE_TENMAN, RAIDSIZE_TWENTYFIVEMAN};\r\n","﻿/**\r\n * Addon manager class - To keep things consistant it works a lot like how Phaser deals with states.\r\n * An addon is basicly a subroutine that displays graphical information to the screen and modifies -\r\n * this information as a reaction to events the game creates\r\n */\r\n\r\nexport default class AddonManager {\r\n    constructor(){\r\n        this._addons = {};\r\n    }\r\n\r\n    add(addonKey, addonCode) {\r\n        this._addons[addonKey] = { name: addonKey, enabled: true, code: addonCode };\r\n    }\r\n\r\n    disableAddon(addonKey) {\r\n        if (!this._addons[addonKey])\r\n            return;\r\n        else\r\n            this._addons[addonKey].enabled = false;\r\n    }\r\n    enableAddon(addonKey) {\r\n        if (!this._addons[addonKey])\r\n            return;\r\n        else\r\n            this._addons[addonKey].enabled = true;\r\n    }\r\n\r\n\r\n    getListOfAddons() {\r\n        var addonList = [];\r\n        for (var addon in this._addons) {\r\n            var currentAddon = this._addons[addon];\r\n            addonList.push([currentAddon.name, currentAddon.enabled]);\r\n        }\r\n        return addonList;\r\n    }\r\n\r\n    /* Loads addons to the current context/state*/\r\n    loadEnabledAddons() {\r\n        for (var addon in this._addons) {\r\n            var currentAddon = this._addons[addon];\r\n            if (currentAddon.enabled)\r\n                currentAddon.code();\r\n        }\r\n    }\r\n}","﻿/* Adding some extra functionality to the Phaser.Group  */\r\n/* Todo: add interaction functionality to the frame */\r\n\r\nclass Frame extends Phaser.Graphics {\r\n\r\n    constructor(parent) {\r\n        super(game);\r\n        if (parent === 'UIParent')\r\n            MAINSTATE.UIParent.addChild(this);\r\n        else\r\n            parent.addChild(this);\r\n\r\n        this._width = 200;\r\n        this._height = 100;\r\n\r\n    }\r\n\r\n    setSize(width, height) {\r\n        this._width = width;\r\n        this._height = height;\r\n\r\n\r\n    };\r\n    setPos(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    };\r\n\r\n}\r\n\r\n\r\nclass StatusBar extends Frame {\r\n\r\n\r\n\r\n    constructor(parent, width, height) {\r\n\r\n        super(parent);\r\n        this.setPos(0, 0);\r\n        this.setSize(width, height);\r\n\r\n        // defaults. How fast the bar should react to change in values.\r\n        this._animationStyle = \"Linear\";\r\n        this._animationDuration = 200;\r\n\r\n        // The values for the bar. Default is full bar.\r\n        this._minValue = 0;\r\n        this._maxValue = 1;\r\n        this._currentValue = 1;\r\n\r\n        // Init bar\r\n        this._bar = new Phaser.Graphics(game, 0, 0);\r\n        this._bar.beginFill(0xFFFFFF);\r\n        this._bar.drawRect(0, 0, this._width, this._height);\r\n        this._bar.endFill();\r\n\r\n        // Works as both a texture and a background\r\n        this._texture = new Phaser.Sprite(game, 0, 0, \"castbar_texture\");\r\n        this._texture.width = this._width;\r\n        this._texture.height = this._height;\r\n        this._texture.blendMode = PIXI.blendModes.MULTIPLY;\r\n\r\n        // Add children to parent frame\r\n        this.addChild(this._bar);\r\n        this.addChild(this._texture);\r\n\r\n        this._updateBarWidth();\r\n\r\n    };\r\n\r\n    /**\r\n     * [_updateBarWidth description]\r\n     * @return {[type]} [description]\r\n     * @private\r\n     */\r\n    _updateBarWidth() {\r\n        var barWidthInPixels = Math.round((this._currentValue / this._maxValue) * this._width);\r\n        if (barWidthInPixels <= 0) // something bad happens if it goes to 0\r\n            barWidthInPixels = 1;\r\n\r\n        if (!this._animationDuration)\r\n            this._bar.width = barWidthInPixels;\r\n        else\r\n            game.add.tween(this._bar).to({\r\n                width: barWidthInPixels\r\n            }, this._animationDuration, this._animationStyle, true);\r\n    }\r\n\r\n    /* Public interface below */\r\n\r\n    setColor(color) {\r\n        this._bar.tint = color;\r\n\r\n    }\r\n\r\n    setValues(min, max, current) {\r\n        this._maxValue = max;\r\n        this._minValue = min;\r\n        this._currentValue = current;\r\n        this._updateBarWidth();\r\n    }\r\n\r\n    setTexture() {\r\n        // \r\n    }\r\n\r\n    setMaxValue(newMaxValue) {\r\n        this._maxValue = newMaxValue;\r\n        this._updateBarWidth();\r\n    }\r\n\r\n    setValue(newValue, duration) {\r\n        if (newValue <= this._minValue)\r\n            this._currentValue = this._minValue;\r\n        else if (newValue > this._maxValue)\r\n            this._currentValue = this._maxValue;\r\n        else\r\n            this._currentValue = newValue;\r\n        if (duration)\r\n            this._animationDuration = duration;\r\n        else if (duration === 0)\r\n            this._animationDuration = duration;\r\n\r\n        this._updateBarWidth();\r\n\r\n    }\r\n}\r\n\r\nclass UnitFrame extends Frame {\r\n\r\n    constructor(parent, unit, width, height) {\r\n        super(parent);\r\n        if (width) this._width = width;\r\n        if (height) this._height = height;\r\n\r\n        this.unit = unit;\r\n        this.config = {\r\n            powerBarEnabled: false,\r\n            playerNameEnabled: true,\r\n            enemyColor: 0xFA1A16,\r\n            powerBarColor: 0x00D1FF\r\n        };\r\n\r\n        this._init();\r\n    }\r\n\r\n    _init() {\r\n        // Clear all displayObjects from the Frame\r\n        this.removeChildren();\r\n        this.events.destroy();\r\n\r\n        this._initHealthBar();\r\n\r\n        if (this.config.powerBarEnabled) {\r\n            this._initPowerBar();\r\n        }\r\n\r\n        if (this.unit.isEnemy) {\r\n            this.dragonTexture = new Phaser.Sprite(game, this._width - 55, -10, \"elite\");\r\n            this.addChild(this.dragonTexture);\r\n        }\r\n\r\n        this.inputEnabled = true;\r\n        this.events.onInputDown.add(() => {\r\n            setTarget(this.unit)\r\n        });\r\n\r\n        this._initEventListeners();\r\n    }\r\n\r\n    _initEventListeners() {\r\n        //onEvent(\"UNIT_HEALTH_CHANGE\", (e) => this._onUnitHealthChanged(e));\r\n        MAINSTATE.events.UNIT_HEALTH_CHANGE.add((unit) => this._onUnitHealthChanged(unit));\r\n        MAINSTATE.events.UNIT_DEATH.add((unit) => this._onUnitDeath(unit));\r\n        if (this.config.powerBarEnabled)\r\n            MAINSTATE.events.MANA_CHANGE.add((unit) => this._onUnitManaChanged(unit));\r\n\r\n    }\r\n\r\n    _initPowerBar() {\r\n        this.powerBar = new StatusBar(this, this._width, this._height / 4);\r\n        this.powerBar.setValues(0, this.unit.getMana(), this.unit.getMaxMana());\r\n        this.powerBar.setPos(0, this.healthBar._height);\r\n        this.powerBar.setColor(this.config.powerBarColor);\r\n\r\n        this.manaPercentText = new Phaser.BitmapText(game, this.powerBar._width / 2, this.powerBar._height / 2, \"myriad\", null, 11);\r\n        this.manaPercentText.tint = this.config.powerBarColor;\r\n        this.manaPercentText.anchor.set(0.5);\r\n        this.powerBar.addChild(this.manaPercentText);\r\n\r\n    }\r\n\r\n    _initHealthBar() {\r\n        this.healthBar = new StatusBar(this, this._width, this._height / 4 * (this.config.powerBarEnabled ? 3 : 4));\r\n        this.healthBar.setColor(this.unit.isEnemy ? this.config.enemyColor : data.getClassColor(this.unit.classId));\r\n        this.healthBar.setValues(0, this.unit.getMaxHealth(), this.unit.getCurrentHealth());\r\n\r\n        if (this.config.playerNameEnabled) {\r\n            this.playerName = new Phaser.BitmapText(game, this.healthBar._width / 2, this.healthBar._height / 2, \"myriad\", null, 12);\r\n            this.playerName.setText(this.unit.name);\r\n            this.playerName.anchor.set(0.5);\r\n            this.playerName.tint = this.unit.isEnemy ? this.config.enemyColor : data.getClassColor(this.unit.classId);\r\n            this.healthBar.addChild(this.playerName);\r\n        }\r\n    }\r\n\r\n    _onUnitHealthChanged(unit) {\r\n        if (unit != this.unit)\r\n            return;\r\n        this.healthBar.setValue(this.unit.getCurrentHealth());\r\n        /*\r\n        if (this.unit.healthPercent > 20) { \r\n            this.healthBar.setColor(red)\r\n        } */\r\n    }\r\n    _onUnitMaxHealthChanged(unit) {\r\n        this.healthBar.setMaxValue(this.unit.getMaxHealth());\r\n    }\r\n    _onUnitManaChanged(unit) {\r\n\r\n        this.powerBar.setValue(this.unit.getMana());\r\n\r\n        var mana_pct = (this.unit.getMana() / this.unit.getMaxMana()) * 100;\r\n        this.manaPercentText.setText(mana_pct.toFixed(1) + \"%\");\r\n    }\r\n\r\n    _onUnitRoleChanged() {\r\n        // set role icon\r\n    }\r\n\r\n    _onUnitDeath(unit) {\r\n        if (unit != this.unit)\r\n            return;\r\n        this.healthBar.setValue(0);\r\n    }\r\n\r\n    /* Public interface below */\r\n\r\n    togglePowerBar() {\r\n        this.config.powerBarEnabled = this.config.powerBarEnabled ? false : true;\r\n        this._init();\r\n    }\r\n\r\n    setUnit(unit) {\r\n        this.unit = unit;\r\n        this._init();\r\n    }\r\n\r\n}\r\n\r\n/* ## TODO ## fix fix */\r\nclass StatusIcon {\r\n\r\n\r\n\r\n    constructor(state, spellid, x, y) {\r\n\r\n        this.playState = state;\r\n        this.spellid = spellid;\r\n\r\n        this.container = this.playState.add.group();\r\n        this.container.x = x;\r\n        this.container.y = y;\r\n        this.w = 50;\r\n        this.h = 50;\r\n\r\n        this.angle = {\r\n            current: 0\r\n        };\r\n\r\n        // Spell icon\r\n        var spellIcon = this.playState.add.image(0, 0, \"icon_\" + spellid);\r\n        spellIcon.width = this.w;\r\n        spellIcon.height = this.h;\r\n\r\n        // Alpha mask for cooldown overlay\r\n        var mask = this.playState.add.graphics(this.container.x, this.container.y);\r\n        mask.beginFill(0xFFFFFF);\r\n        mask.drawRect(0, 0, this.w, this.h);\r\n\r\n        // Cooldown overlay arc init\r\n        this.cd_overlay = this.playState.add.graphics(0, 0);\r\n        this.cd_overlay.alpha = 0.8;\r\n        this.cd_overlay.mask = mask;\r\n        this.cd_overlay.blendMode = PIXI.blendModes.MULTIPLY;\r\n\r\n        // adding displayObjects to the parent container\r\n        this.container.add(spellIcon);\r\n        this.container.add(this.cd_overlay);\r\n\r\n        // listen to cooldown start event\r\n        this.playState.events.ON_COOLDOWN_START.add((e) => this._onCooldownStart(e));\r\n        this.playState.events.ON_COOLDOWN_ENDED.add((e) => this._onCooldownEnded(e));\r\n    }\r\n\r\n    _onCooldownStart(event) {\r\n\r\n        // The event is fired every time a spell cooldown starts, so we need to check if its the correct spell.\r\n        if (event.spellid != this.spellid)\r\n            return;\r\n        // Create a timer that updates a variable locally.\r\n        this.cd_overlay.alpha = 0.8;\r\n        this.animTween = game.add.tween(this.angle).to({\r\n            current: 270\r\n        }, event.cooldownLenght, undefined, true);\r\n        // Hook the update cooldown arc to the main loop\r\n        this.playState.events.GAME_LOOP_UPDATE.add(() => this._updateCooldownArc());\r\n\r\n    }\r\n\r\n    _onCooldownEnded(event) {\r\n        if (event.spellid != this.spellid)\r\n            return;\r\n        //this.hook.remove();\r\n        // #TODO## Remove hook from game loop\r\n        this.cd_overlay.alpha = 0;\r\n        this.animTween.stop();\r\n        this.angle.current = 0;\r\n        this.cd_overlay.clear();\r\n\r\n    }\r\n\r\n    _updateCooldownArc() {\r\n\r\n        this.cd_overlay.clear();\r\n        this.cd_overlay.beginFill(0x323232);\r\n        this.cd_overlay.arc(25, 25, 50, Phaser.Math.degToRad(270), Phaser.Math.degToRad(this.angle.current), true);\r\n        this.cd_overlay.endFill();\r\n        // clear\r\n        // redraw based on new values\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n// Addon API function toolkit ## mainstate isnt supposed to be global etc. This is just temp\r\n\r\nfunction setTarget(unit) {\r\n    MAINSTATE.player.setTarget(unit);\r\n}\r\n\r\nfunction getGroupMembers() {\r\n    return MAINSTATE.raid.getPlayerList();\r\n}\r\n\r\nfunction localPlayer() {\r\n    return MAINSTATE.player;\r\n}\r\n","﻿export default class EventManager {\r\n\r\n    // ### TODO ### \r\n    constructor() {\r\n        this.GAME_LOOP_UPDATE = new Phaser.Signal();\r\n        this.TARGET_CHANGE_EVENT = new Phaser.Signal();\r\n        this.UNIT_HEALTH_CHANGE = new Phaser.Signal();\r\n        this.UNIT_ABSORB = new Phaser.Signal();\r\n        this.UNIT_STARTS_SPELLCAST = new Phaser.Signal();\r\n        this.UNIT_FINISH_SPELLCAST = new Phaser.Signal();\r\n        this.UNIT_CANCEL_SPELLCAST = new Phaser.Signal();\r\n        this.UI_ERROR_MESSAGE = new Phaser.Signal();\r\n        this.UNIT_DEATH = new Phaser.Signal();\r\n        this.GAME_LOOP_RENDER = new Phaser.Signal();\r\n        this.ON_COOLDOWN_START = new Phaser.Signal();\r\n        this.ON_COOLDOWN_ENDED = new Phaser.Signal();\r\n        this.MANA_CHANGE = new Phaser.Signal();\r\n    }\r\n}\r\n","﻿import * as e from \"../enums\";\r\n\r\n\r\nexport default class Raid {\r\n\r\n    constructor(eventManager) {\r\n        this.events = eventManager;\r\n        this.players = [];\r\n        this.raidSize = null;\r\n    }\r\n\r\n\r\n    setRaidSize(size) {\r\n        this.raidSize = size;\r\n    }\r\n\r\n    getPlayerList() {\r\n        return this.players;\r\n    }\r\n\r\n    generateTestPlayers() {\r\n        let numberOfTanks, numberOfHealers, numberOfDps;\r\n        let validTankClasses = [0, 1, 5, 9, 10];\r\n        let validHealerClasses = [1, 4, 6, 9, 10];\r\n\r\n        if (this.raidSize == e.raid_size.GROUP) {\r\n            numberOfTanks = 1;\r\n            numberOfHealers = 0;\r\n            numberOfDps = 3;\r\n        }\r\n\r\n        if (this.raidSize == e.raid_size.TENMAN) {\r\n            numberOfTanks = 2;\r\n            numberOfHealers = 2;\r\n            numberOfDps = 5;\r\n        }\r\n\r\n        if (this.raidSize == e.raid_size.TWENTYFIVEMAN) {\r\n            numberOfTanks = 2;\r\n            numberOfHealers = 5;\r\n            numberOfDps = 17;\r\n        }\r\n\r\n\r\n\r\n        while (numberOfTanks--) {\r\n            var classs = validTankClasses[game.rnd.integerInRange(0, validTankClasses.length - 1)],\r\n                race = game.rnd.integerInRange(player_race.MIN, player_race.MAX),\r\n                level = 100,\r\n                name = data.generatePlayerName();\r\n\r\n            var unit = this.createUnit(classs, race, level, name);\r\n            this.addPlayer(unit);\r\n        }\r\n\r\n        while (numberOfHealers--) {\r\n            var classs = validHealerClasses[game.rnd.integerInRange(0, validHealerClasses.length - 1)],\r\n                race = game.rnd.integerInRange(e.player_race.MIN, e.player_race.MAX),\r\n                level = 100,\r\n                name = data.generatePlayerName();\r\n\r\n            var unit = this.createUnit(classs, race, level, name);\r\n            this.addPlayer(unit);\r\n        }\r\n\r\n        while (numberOfDps--) {\r\n            var classs = game.rnd.integerInRange(player_class.MIN, player_class.MAX),\r\n                race = game.rnd.integerInRange(player_race.MIN, player_race.MAX),\r\n                level = 100,\r\n                name = data.generatePlayerName();\r\n\r\n            var unit = this.createUnit(classs, race, level, name);\r\n            this.addPlayer(unit);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Add a player to the raidgroup\r\n     * @param {Object(Player)} unit\r\n     */\r\n\r\n    addPlayer(unit) {\r\n        this.players.push(unit);\r\n    }\r\n\r\n    // When you create a unit you also have to pass them a reference to the event manager, so they know how to communicate events.\r\n    createUnit(classs, race, level, name) {\r\n\r\n        // Check if a valid \"level\" is chosen;\r\n        if (level < e.PLAYER_LEVEL_MIN || level > e.PLAYER_LEVEL_MAX)\r\n            level = e.PLAYER_LEVEL_MAX;\r\n        else\r\n            level = level;\r\n\r\n        switch (classs) {\r\n            case e.class_e.PRIEST:\r\n                return new Priest.Priest(race, level, name, this.events);\r\n                break;\r\n\r\n            default:\r\n                return new Player(classs, race, level, name, this.events);\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    startTestDamage() {\r\n        var tank = this.players[0];\r\n        var offTank = this.players[1];\r\n\r\n        // --- Create some random damage for testing purposes ----\r\n        var bossSwingInterval = setInterval(bossSwing.bind(this), 1600);\r\n        //var bossSingelTargetSpell = setInterval(singelTargetDamage.bind(this), 60000);\r\n        var tankSelfHealOrAbsorb = setInterval(applyAbsorb.bind(this), 5000);\r\n        var bossTimedDamage = setInterval(bossAoEDamage.bind(this), 30000); // Big aoe after 3 minutes, 180000\r\n        var raidAoeDamage = setInterval(raidDamage.bind(this), 3000);\r\n        var raidAIHealing = setInterval(raidHealing.bind(this), 4000);\r\n        var manaRegenYolo = setInterval(gain_mana.bind(this), 1200);\r\n        var spike = setInterval(bossSpike.bind(this), 8000);\r\n\r\n        function gain_mana() {\r\n            MAINSTATE.player.gain_resource(1600);\r\n        }\r\n\r\n        function bossSpike() {\r\n            var massiveBlow = game.rnd.between(330000, 340900);\r\n\r\n            tank.recive_damage({\r\n                amount: massiveBlow\r\n            });\r\n            offTank.recive_damage({\r\n                amount: massiveBlow / 2\r\n            });\r\n\r\n        }\r\n\r\n        function bossSwing() {\r\n            var bossSwing = game.rnd.between(70000, 90900);\r\n            var bossSwingCriticalHit = Math.random();\r\n\r\n            // 20% chance to critt. Experimental.\r\n            if (bossSwingCriticalHit < 0.85)\r\n                bossSwing *= 1.5;\r\n            tank.recive_damage({\r\n                amount: bossSwing\r\n            });\r\n            offTank.recive_damage({\r\n                amount: bossSwing / 2\r\n            });\r\n\r\n        }\r\n\r\n        function bossAoEDamage() {\r\n            for (var i = 0; i < this.players.length - 1; i++) {\r\n                var player = this.players[i]\r\n                player.recive_damage({\r\n                    amount: 170000\r\n                });\r\n            }\r\n        }\r\n\r\n        function raidDamage() {\r\n            var i = game.rnd.between(0, this.players.length - 1);\r\n            for (; i < this.players.length; i++) {\r\n                var player = this.players[i];\r\n                player.recive_damage({\r\n                    amount: game.rnd.between(85555, 168900)\r\n                })\r\n            }\r\n        }\r\n\r\n        function singelTargetDamage() {\r\n            var random = game.rnd.between(2, this.players.length - 1);\r\n            this.players[random].recive_damage({\r\n                amount: game.rnd.between(100000, 150000)\r\n            });\r\n        }\r\n\r\n        function bossEncounterAdds() {}\r\n\r\n        function raidHealing() {\r\n\r\n            for (var i = 0; i < this.players.length; i++) {\r\n                var player = this.players[i];\r\n                var incomingHeal = player.getCurrentHealth() + game.rnd.between(80000, 120000);\r\n                var criticalHeal = Math.random();\r\n\r\n                // 20% chance to critt. Experimental.\r\n                if (criticalHeal < 0.8)\r\n                    incomingHeal *= 1.5;\r\n\r\n                player.setHealth(incomingHeal);\r\n            }\r\n        }\r\n\r\n        function applyAbsorb() {\r\n            //this.player.setAbsorb(game.rnd.between(115, 88900));\r\n            tank.setHealth(tank.getCurrentHealth() + game.rnd.between(10000, 38900));\r\n        }\r\n\r\n        // Legge inn AI shields på raidmembers.\r\n    }\r\n}\r\n","﻿import Boot from './states/boot';\r\nimport AddonManager from './gameObjects/addonManager';\r\n// Phaser is imported globally in the html file\r\n\r\nwindow.onload = () => {\r\n\r\n    /**\r\n\t * Force WEBGL since Canvas doesnt support textures / blendmodes which we use heavily.\r\n\t * Automatically starts the boot state aka. application entry point\r\n\t * Note: No need to save this var since all the states have access to it anyway\r\n\t */\r\n\r\n    new PhaserCustomGame('100%', '100%', Phaser.WEBGL, undefined, Boot);\r\n\r\n\r\n};\r\n\r\n/**\r\n * Adding some extra functionality to the Phaser game engine\r\n * Adds the ability to load \"addons\", and a different way to handle keyboard input\r\n */\r\n\r\nclass PhaserCustomGame extends Phaser.Game {\r\n \r\n  \r\n    constructor(width, height, renderer, parent, state, transparent, antialias, physicsConfig) {\r\n        super(width,height,renderer,parent,state,transparent,antialias,physicsConfig);\r\n        this.addons = new AddonManager();\r\n    }\r\n\r\n    /**\r\n     * Keyboard input dispatcher. Sends input to the current state instead of having the redudancy of up a keyboard for each state.\r\n     * @param  {[type]} keyPressData [description]\r\n     * @return {[type]}              [description]\r\n     */\r\n    sendKeyBoardInputToCurrentState(keyPressData) {\r\n        \r\n        var currentState = this.state.getCurrentState();\r\n        if (!currentState.handleKeyBoardInput)\r\n            return;\r\n        else\r\n           currentState.handleKeyBoardInput(keyPressData);\r\n    };\r\n}","/* The Boot state configures the Phaser this.game engine and loads assets */\r\nimport menuState from \"./menu\";\r\nimport playState from \"./play\";\r\n\r\nexport default class Boot {\r\n\t// Load assets\r\n    preload() {\r\n        this.game.load.image(\"MenuScreenText\", \"./assets/menu_state_text.png\");\r\n        this.game.load.image(\"MenuScreenBackground\", \"./assets/textures/bg_texture.png\");\r\n        this.game.load.image(\"castbar_texture\", \"./assets/textures/BantoBar.png\");\r\n        this.game.load.image(\"castbar_texture2\", \"./assets/textures/LiteStep.png\");\r\n        this.game.load.image(\"ab_texture\", \"./assets/textures/action_bar_texture.png\");\r\n        this.game.load.image(\"elite\", \"./assets/textures/elite_texture.png\");\r\n        this.game.load.image(\"bg\", \"./assets/play_state_background.png\");\r\n        this.game.load.image(\"icon_5\", \"./assets/icons/spell_holy_powerwordshield.jpg\");\r\n        this.game.load.image(\"icon_2\", \"./assets/icons/power_infusion.jpg\");\r\n        this.game.load.bitmapFont(\"myriad\", \"./assets/fonts/font.png\", \"./assets/fonts/font.xml\");\r\n    }\r\n\r\n    onWindowResize(data) {\r\n        this.game.canvas.height = window.innerHeight;\r\n        this.game.canvas.width = window.innerWidth;\r\n    }\r\n\r\n    create() {\r\n        console.log(this.game);\r\n        // Set scalemode for the this.game.\r\n        this.game.scale.scaleMode = Phaser.ScaleManager.RESIZE;\r\n        this.game.scale.onSizeChange.add((data) => this.onWindowResize(data));\r\n\r\n        // Phaser config\r\n        this.game.time.advancedTiming = true;\r\n        this.game.tweens.frameBased = true;\r\n\r\n        // Register games-states\r\n        this.game.state.add(\"MainMenu\", menuState);\r\n        this.game.state.add(\"Play\", playState);\r\n        \r\n        // Setup the keyboard for the this.game.\r\n        this.game.input.keyboard.addCallbacks(this.game, undefined, undefined, this.game.sendKeyBoardInputToCurrentState);\r\n        // Start the post-boot state\r\n        this.game.state.start(\"MainMenu\");\r\n\r\n    }\r\n\r\n}\r\n","export default class MainMenu {\r\n    // Show HTML form on screen. \r\n    // - Options to select player, difficulty,--\r\n    // Validate/Process form input\r\n\r\n    create() {\r\n        this.add.image(0, 0, \"MenuScreenBackground\");\r\n        this.add.image(0, 0, \"MenuScreenText\").blendMode = PIXI.blendModes.ADD;\r\n        //this.printAddonList();\r\n    }\r\n\r\n    printAddonList() {\r\n        var addonList = game.addons.getListOfAddons();\r\n        var lineHeight = 15;\r\n        var headerText = this.add.bitmapText(0, 0, game.defaultFont, \"### REGISTRED ADDONS ###\", 14);\r\n        headerText.tint = 0xFF00FF;\r\n        for (var i = 0; i < addonList.length; i++) {\r\n            this.add.bitmapText(0, lineHeight * i + lineHeight, game.defaultFont, \"## Addon Name: \" + addonList[i][0] + \"  ## Enabled : \" + addonList[i][1], 14);\r\n        }\r\n    }\r\n\r\n    handleKeyBoardInput(keyCode) {\r\n        console.log(\"startingds main\");\r\n\r\n        // On any input, the game is started\r\n        this.game.state.start(\"Play\");\r\n    }\r\n}\r\n","﻿var MAINSTATE; // ## Temporary - used for testing ##\r\nimport EventManager from \"../gameObjects/eventManager\";\r\nimport Raid from \"../gameObjects/raid\";\r\nimport * as e from \"../enums\";\r\nexport default class Play {\r\n\r\n\r\n    create() {\r\n        MAINSTATE = this; // ## Temporary ##\r\n\r\n        // Start the world fade-in effect\r\n        this.world.alpha = 0;\r\n        this.add.tween(this.world).to({alpha: 1}, 4000, Phaser.Easing.Cubic.InOut, true);\r\n       \r\n        // Add a background\r\n        this.game.add.image(this.game.stage.x, this.game.stage.y, \"bg\");\r\n\r\n        // Add Ui parent container, all addon displayObject hooks to this.\r\n        this.UIParent = this.add.group(this.world);\r\n\r\n        this.events = new EventManager(); \r\n        this.raid = new Raid(this.events); \r\n\r\n        // Set raid size\r\n        this.raid.setRaidSize(e.RAID_SIZE_TWENTYFIVEMAN);\r\n\r\n        // Init player. ## TODO ##: Use data from selection screen. See Phaser documentation for sending args between states?\r\n        this.player = this.raid.createUnit(e.class_e.PRIEST, e.race_e.RACE_BLOOD_ELF, 100, \"Player\");\r\n        this.raid.generateTestPlayers();\r\n        this.raid.addPlayer(this.player);\r\n\r\n        // Load enabled addons\r\n        this.game.addons.loadEnabledAddons();\r\n\r\n        // Start the boss/healing simulator\r\n        this.raid.startTestDamage();\r\n\r\n        // Testing cooldown frames\r\n        var test = new StatusIcon(this, 5, 500, 500);\r\n        var test2 = new StatusIcon(this, 2, 555, 500);\r\n    }\r\n\r\n    update() {\r\n        this.events.GAME_LOOP_UPDATE.dispatch();\r\n    };\r\n\r\n    handleKeyBoardInput(key) {\r\n        // ## TODO ## : Find a better way to deal with this, maybe just send the input to the addons, and let the addons/ui decide what to do with it.\r\n\r\n        var keybindings = data.getKeyBindings();\r\n        for (var binding in keybindings) {\r\n            var keybinding = keybindings[binding];\r\n            if (keybinding.key == key) {\r\n                if (keybinding.spell)\r\n                    this.player.cast_spell(keybinding.spell);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        this.events.GAME_LOOP_RENDER.dispatch();\r\n    }\r\n}\r\n\r\n","function Enum () {\r\n  if (!(this instanceof Enum)) {\r\n    let args = []\r\n    for (let key in arguments) {\r\n      args.push(arguments[key])\r\n    }\r\n    return new Enum(...args)\r\n  }\r\n\r\n  let args = this.deepCopy(Array.prototype.slice.call(arguments))\r\n  if (Object.prototype.toString.call(args) === '[object Object]') {\r\n    args = this.valuesInObj(args)\r\n  }\r\n\r\n  args.forEach((prams) => {\r\n    this[prams] = Symbol(prams)\r\n  })\r\n}\r\n\r\nEnum.prototype = {\r\n  constructor: Enum,\r\n  deepCopy: (target) => {\r\n    let result\r\n    const type = Object.prototype.toString.call(target)\r\n    const getValue = (value) => {\r\n      if (typeof value === 'object') {\r\n        return this.deepCopy(value)\r\n      }\r\n      return value\r\n    }\r\n    switch (type) {\r\n      case '[object Object]':\r\n        result = {}\r\n        for (let key in target) {\r\n          result[key] = getValue(target[key])\r\n        }\r\n        break\r\n      case '[object Array]':\r\n        result = []\r\n        for (let [key, value] of target.entries()) {\r\n          result[key] = getValue(value)\r\n        }\r\n        break\r\n      default:\r\n        result = null\r\n    }\r\n    return result\r\n  },\r\n  /* Untill Node 5.3.0, Object.values still not supported */\r\n  valuesInObj: (object) => {\r\n    let results = []\r\n    for (let key in object) {\r\n      results.push(object[key])\r\n    }\r\n    return results\r\n  }\r\n}\r\n\r\nexport default Enum"]}